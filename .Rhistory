setwd("~/Dropbox/migration_tweets")
library(plyr)
require(jsonlite)
setwd("~/Dropbox/gh_projects_migration_tweets")
setwd("~/Dropbox/gh_projects/migration_tweets")
require(jsonlite)
lstJson <- fromJSON("output.json", flatten=TRUE)
lstJson[2]
names(lstJson)
summary(lstJson$lang)
df<-unlist(lstJson)
lstJson <- fromJSON("output.json", flatten=TRUE)
setwd("~/Desktop/migration_tweets")
setwd("~/Desktop/migration_tweet")
require(jsonlite)
lstJson <- fromJSON("output.json", flatten=TRUE)
library(RJSONIO)
lstJson <- fromJSON("output.json")
names(lstJson)
final_data <- do.call(rbind, lstJson)
final_data <- do.call(rbind, final_data)
View(final_data)
library(RJSONIO)
lstJson <- fromJSON("output.json")
final_data <- do.call(rbind, lstJson)
setwd("~/Desktop/migration_tweet")
library(RJSONIO)
lstJson <- fromJSON("output.json")
final_data <- do.call(rbind, lstJson)
names(lstJson)
df<-unlist(lstJson)
colnames(lstJson)
lstJson[,c("links")]
final_data <- do.call(rbind, final_data)
require(jsonlite)
lstJson <- fromJSON("output.json", flatten=TRUE)
final_data <- do.call(rbind, lstJson)
lstJson <- fromJSON("output.json", flatten=TRUE)
library(RJSONIO)
lstJson <- fromJSON("output.json")
library(rjson)
json_file <- "output.json"
setwd("~/Desktop/migration_tweet")
json_data <- fromJSON(paste(readLines(json_file), collapse=""))
data = unlist(json_data)
json_data <- fromJSON(paste(readLines(json_file, n=300), collapse=""))
data = unlist(json_data)
final_data <- do.call(rbind, json_data)
json_data <- fromJSON(paste(readLines(json_file, n=1000), collapse=""))
final_data <- do.call(rbind, json_data)
names(final_data)
final_data <- do.call(rbind, final_data)
final_data <- do.call(rbind, json_data)
final_data <- unlist(final_data)
json_data <- fromJSON(paste(readLines(json_file, n=4000), collapse=""))
final_data <- do.call(rbind, json_data)
names(final_data)
final_data[1]
final_data[2]
?fromJSON
library(rjson)
json_data <- fromJSON(paste(readLines(json_file, n=4000), collapse=""), unexpected.escape = "error")
json_data <- fromJSON(paste(readLines(json_file, n=4000), collapse=""), unexpected.escape = "skip")
json_data <- fromJSON(paste(readLines(json_file, n=11000), collapse=""), unexpected.escape = "skip")
final_data <- do.call(rbind, json_data)
final_data <- do.call(rbind, final_data)
View(final_data)
lstJson <- fromJSON("output.json")
setwd("~/Desktop/migration_tweet")
library(RJSONIO)
lstJson <- fromJSON("output.json")
lstJson <- fromJSON("output.json")
setwd("~/Desktop/migration_tweet")
lstJson <- fromJSON("output.json")
library(rjson)
json_file <- "output.json"
json_data <- fromJSON(paste(readLines(json_file, n=11000), collapse=""))
final_data <- do.call(rbind, json_data)
colnames(final_data)
final_data[,c("links","text")]
final_data[,c("id","verified")]
final_data[,c("id","verified")]
require(jsonlite)
lstJson <- fromJSON("output.json", flatten=TRUE)
lstJson <- fromJSON("output.json", flatten=TRUE)
lstJson <- fromJSON("output.json", flatten=TRUE)
names(lstJson)
summary(lstJson$en)
summary(lstJson$lang)
summary(as.factor(lstJson$lang))
setwd("~/Dropbox/gh_projects/migration_tweets/preliminary")
library(twitteR)
library(igraph)
library(stringr)
library(RJSONIO)
require(ROAuth)
require(lubridate)
require(ggplot2)
require(tm)
require(Snowball)
require(RColorBrewer)
require(stargazer)
install.packages("ROAUTH")
install.packages("ROAuth")
install.packages("Snowball")
df<-lstJson
rm(lstJson)
names(df)
df$time<-as.POSIXct(df$created_at)
summary(df$created_at)
df$time<-as.POSIXct(as.numeric(df$created_at))
summary(as.numeric(df$created_at))
summary(as.factor(df$created_at))
?substr
df$time<-as.POSIXct(gsub(df$created_at, 1,5)) # Doesnt work, need to wrangle date
df$time<-as.POSIXct(gsub(df$created_at, 6,20)) # Doesnt work, need to wrangle date
summary(as.factor(df$created_at, 6,20)))
summary(as.factor(df$created_at, 6,20))
summary(as.factor(df$created_at))
df$time<-as.POSIXct(as.factor(df$created_at)) # Doesnt work, need to wrangle date
df$time<-as.POSIXct(as.factor(gsub(df$created_at, 6, 20)) # Doesnt work, need to wrangle date
)
summary(as.factor(gsub(df$created_at, 6, 20))
)
?strsplit
summary(as.factor(strsplit(df$created_at, ","))
)
summary(as.factor(strsplit(df$created_at, ",")[1])
)
summary(as.factor(strsplit(df$created_at, ",")[1]))
summary(as.factor(strsplit(df$created_at, ",")[2]))
summary(as.factor(strsplit(df$created_at, ",")[,1]))
summary(as.factor(strsplit(df$created_at, ",")[1,]))
summary(as.factor(strsplit(df$created_at, ",")[[1]]))
summary(as.factor(strsplit(df$created_at, ",")[[1,1]]))
summary(as.factor(strsplit(df$created_at, ",")[[2]]))
summary(as.factor(strsplit(df$created_at, ",")[[2,0]]))
summary(as.factor(strsplit(df$created_at, ",")[[0]]))
summary(as.factor(strsplit(df$created_at, ",")[[1]]))
df$time<-as.POSIXct(as.factor(strsplit(df$created_at, ",")[[1]]) # Doesnt work, need to wrangle date
)
setwd("~/Dropbox/gh_projects/migration_tweets")
require(jsonlite)
require(lubridate)
require(ggplot2)
require(stringr)
# df <- fromJSON("output.json", flatten=TRUE)
# df<-df[complete.cases(df["user.screen_name"]),]
# save(df, file="cleaned_data/complete.RData")
load("cleaned_data/complete.RData")
random<-df[sample(nrow(df), 500), ]
View(random)
write.csv(df, "data/random_sample.csv")
write.csv(df, file="data/random_sample.csv")
?write.csv
write.csv(random, file="cleaned_data/random_sample.csv")
random<-df[sample(nrow(df), 1000), ]
write.csv(random, file="cleaned_data/random_sample.csv")
setwd("~/Dropbox/gh_projects/migration_tweets")
require(jsonlite)
require(lubridate)
require(ggplot2)
require(stringr)
df <- fromJSON("output.json", flatten=TRUE)
df<-df[complete.cases(df["user.screen_name"]),]
save(df, file="cleaned_data/complete.RData")
load("cleaned_data/complete.RData")
random<-df[sample(nrow(df), 1000), ]
write.csv(random, file="cleaned_data/random_sample.csv")
names(random)
sapply(df, function(x) class(x))
sapply(as.data.frame(df), function(x) class(x))
test<-sapply(df, function(x) unlist(x))
test<-sapply(df, function(x) as.character(unlist(x)))
test<-sapply(df, function(x) unlist(x))
test<-unlist(test)
View(random)
random<-subset(random, select=c("user.screen_name", "user.description", "created_at", "text"))
View(random)
write.csv(random, file="cleaned_data/random_sample.csv")
df$time<-as.POSIXct(dmy_hms(substr(df$created_at, 6, 25))) # Doesnt work, need to wrangle date
random<-df[sample(nrow(df), 1000), ]
random<-df[sample(nrow(df), 1000), ]
random<-subset(random, select=c("user.screen_name", "user.description", "created_at", "text", "time"))
random<-random[order(random$time),]
View(random)
write.csv(random, file="cleaned_data/random_sample.csv")
